{"version":3,"sources":["webpack:///./src/components/ResetPasswordForm.js","webpack:///./src/pages/resetPassword.js"],"names":["ResetPassword","state","loading","search","queryString","parse","props","location","handleSubmit","e","setState","preventDefault","form","validateFields","err","values","a","async","handleResetPassword","token","openNotificationWithIcon","navigate","render","getFieldDecorator","this","style","display","alignItems","justifyItems","height","gridColumn","gridRow","onSubmit","className","Item","rules","required","message","prefix","type","color","placeholder","htmlType","to","React","Component","ResetPasswordForm","Form","create","name","WithLocation","forgot","isLoggedIn"],"mappings":"kRASMA,E,4JACJC,MAAQ,CACNC,SAAS,EACTC,OAAQC,IAAYC,MAAM,EAAKC,MAAMC,SAASJ,S,EAGhDK,aAAe,SAAAC,GACb,EAAKC,SAAL,iBAAmB,EAAKT,MAAxB,CAA+BC,SAAS,KAExCO,EAAEE,iBAEF,EAAKL,MAAMM,KAAKC,gBAAe,SAAOC,EAAKC,GAAZ,SAAAC,EAAAC,OAAA,mDACxBH,EADwB,kCAAAE,EAAA,MAERE,YAAoB,OAAD,UACjCH,EADiC,CAEpCI,MAAO,EAAKlB,MAAME,OAAOgB,UAJA,eAQzBC,YAAyB,UAAW,mCACpCC,mBAAS,SAETD,YAAyB,QAAS,+BAXT,OAc7B,EAAKV,SAAS,CAAER,SAAS,IAdI,yC,4GAkBjCoB,OAAA,WAAU,IACAC,EAAsBC,KAAKlB,MAAMM,KAAjCW,kBACR,OACE,kBAAC,IAAD,KACE,yBACEE,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,aAAc,SACdC,OAAQ,OACRC,WAAY,OACZC,QAAS,MAGX,kBAAC,IAAD,CAAMC,SAAUR,KAAKhB,aAAcyB,UAAU,cAC3C,8CACA,kBAAC,IAAKC,KAAN,KACGX,EAAkB,WAAY,CAC7BY,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,iCAF9Bd,CAKC,kBAAC,IAAD,CACEe,OACE,kBAAC,IAAD,CAAMC,KAAK,OAAOd,MAAO,CAAEe,MAAO,qBAEpCD,KAAK,WACLE,YAAY,mBAKlB,kBAAC,IAAKP,KAAN,KACE,kBAAC,IAAD,CACEK,KAAK,UACLG,SAAS,SACTT,UAAU,oBACV/B,QAASsB,KAAKvB,MAAMC,SAJtB,SADF,MASK,kBAAC,OAAD,CAAMyC,GAAG,UAAT,e,GAtEWC,IAAMC,WA+E5BC,EAAoBC,IAAKC,OAAO,CAAEC,KAAM,kBAApBF,CAAwC/C,GAEnDkD,cAAaJ,GCpFb,SAASK,IACtB,OAAIC,eACF/B,mBAAS,QACF,MAIP,kBAAC,IAAD,KACE,yBACEI,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,aAAc,SACdC,OAAQ,OACRC,WAAY,OACZC,QAAS,MAGX,kBAAC,EAAD,QAxBR","file":"component---src-pages-reset-password-js-33ad5cf8fed484c17f19.js","sourcesContent":["import React from \"react\"\nimport { Form, Icon, Input, Button, Checkbox } from \"./MyStyledComponents\"\nimport { handleResetPassword } from \"../services/auth\"\nimport { openNotificationWithIcon } from \"./Notifications\"\nimport { navigate, Link } from \"gatsby\"\nimport Layout from \"./layout\"\nimport WithLocation from \"./WithLocation\"\nimport queryString from \"query-string\"\n\nclass ResetPassword extends React.Component {\n  state = {\n    loading: false,\n    search: queryString.parse(this.props.location.search),\n  }\n\n  handleSubmit = e => {\n    this.setState({ ...this.state, loading: true })\n\n    e.preventDefault()\n\n    this.props.form.validateFields(async (err, values) => {\n      if (!err) {\n        const sent = await handleResetPassword({\n          ...values,\n          token: this.state.search.token,\n        })\n\n        if (sent) {\n          openNotificationWithIcon(\"success\", \"Password reset, logging you  in\")\n          navigate(`/app`)\n        } else {\n          openNotificationWithIcon(\"error\", \"Sorry, something went wrong\")\n        }\n      }\n      this.setState({ loading: false })\n    })\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form\n    return (\n      <Layout>\n        <div\n          style={{\n            display: \"grid\",\n            alignItems: \"center\",\n            justifyItems: \"center\",\n            height: \"100%\",\n            gridColumn: \"1/-1\",\n            gridRow: \"2\",\n          }}\n        >\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <h1>Reset Password</h1>\n            <Form.Item>\n              {getFieldDecorator(\"password\", {\n                rules: [\n                  { required: true, message: \"Please input your Password!\" },\n                ],\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  type=\"password\"\n                  placeholder=\"New Password\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"login-form-button\"\n                loading={this.state.loading}\n              >\n                Reset\n              </Button>\n              Or <Link to=\"/login\">Log in</Link>\n            </Form.Item>\n          </Form>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nconst ResetPasswordForm = Form.create({ name: \"ResetPassword \" })(ResetPassword)\n\nexport default WithLocation(ResetPasswordForm)\n","import React from 'react'\nimport ResetPasswordForm from '../components/ResetPasswordForm'\nimport Layout from '../components/layout'\nimport { isLoggedIn } from '../services/auth'\nimport { navigate } from 'gatsby'\n\nexport default function forgot () {\n  if (isLoggedIn()) {\n    navigate('/app')\n    return null\n  }\n\n  return (\n    <Layout>\n      <div\n        style={{\n          display: 'grid',\n          alignItems: 'center',\n          justifyItems: 'center',\n          height: '100%',\n          gridColumn: '1/-1',\n          gridRow: '2'\n        }}\n      >\n        <ResetPasswordForm />\n      </div>\n    </Layout>\n  )\n}\n"],"sourceRoot":""}