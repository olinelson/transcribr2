{"version":3,"sources":["webpack:///./src/components/ResetPasswordForm.js","webpack:///./src/pages/resetPassword.js"],"names":["WithLocation","props","useState","loading","setLoading","token","queryString","parse","location","search","name","onFinish","values","a","async","handleResetPassword","openNotificationWithIcon","navigate","Item","rules","required","message","prefix","UserOutlined","className","placeholder","type","htmlType","forgot","isLoggedIn","style","display","alignItems","justifyItems","height","gridColumn","gridRow"],"mappings":"8QAkDeA,mBAzCf,SAA4BC,GAAQ,IAAD,EACHC,oBAAS,GAAhCC,EAD0B,KACjBC,EADiB,KAG3BC,EAAQC,IAAYC,MAAMN,EAAMO,SAASC,QAiB/C,OACE,kBAAC,IAAD,CACEC,KAAK,eACLC,SAlBa,SAAOC,GAAP,SAAAC,EAAAC,OAAA,uDACfV,GAAW,GADI,WAAAS,EAAA,MAEIE,YAAoB,OAAD,UACjCH,EADiC,CAEpCP,YAJa,eAQbW,YAAyB,UAAW,mCACpCC,mBAAS,SAETD,YAAyB,QAAS,+BAXrB,uCAoBb,kBAAC,IAAKE,KAAN,CACER,KAAK,WACLS,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,qCAEnC,kBAAC,IAAD,CAAOC,OAAQ,kBAACC,EAAA,EAAD,CAAcC,UAAU,wBAA0BC,YAAY,kBAG/E,kBAAC,IAAKP,KAAN,KACE,kBAAC,IAAD,CAAQf,QAASA,EAASuB,KAAK,UAAUC,SAAS,SAASH,UAAU,qBAArE,c,YCpCO,SAASI,IACtB,OAAIC,eACFZ,mBAAS,QACF,MAIP,kBAAC,IAAD,KACE,yBACEa,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,aAAc,SACdC,OAAQ,OACRC,WAAY,OACZC,QAAS,MAGX,kBAAC,EAAD,QAxBR","file":"component---src-pages-reset-password-js-8760318c169e339f336e.js","sourcesContent":["import React, { useState } from 'react'\nimport { Form, Input, Button } from './MyStyledComponents'\nimport { handleResetPassword } from '../services/auth'\nimport { openNotificationWithIcon } from './Notifications'\nimport { navigate } from 'gatsby'\nimport WithLocation from './WithLocation'\nimport queryString from 'query-string'\nimport { UserOutlined } from '@ant-design/icons'\n\nfunction ResetPasswordForm (props) {\n  const [loading, setLoading] = useState(false)\n\n  const token = queryString.parse(props.location.search)\n\n  const onFinish = async (values) => {\n    setLoading(true)\n    const sent = await handleResetPassword({\n      ...values,\n      token\n    })\n\n    if (sent) {\n      openNotificationWithIcon('success', 'Password reset, logging you  in')\n      navigate('/app')\n    } else {\n      openNotificationWithIcon('error', 'Sorry, something went wrong')\n    }\n  }\n\n  return (\n    <Form\n      name='normal_login'\n      onFinish={onFinish}\n    >\n      <Form.Item\n        name='password'\n        rules={[{ required: true, message: 'Please input your new password!' }]}\n      >\n        <Input prefix={<UserOutlined className='site-form-item-icon' />} placeholder='New Password' />\n      </Form.Item>\n\n      <Form.Item>\n        <Button loading={loading} type='primary' htmlType='submit' className='login-form-button'>\n          Reset\n        </Button>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default WithLocation(ResetPasswordForm)\n","import React from 'react'\nimport ResetPasswordForm from '../components/ResetPasswordForm'\nimport Layout from '../components/layout'\nimport { isLoggedIn } from '../services/auth'\nimport { navigate } from 'gatsby'\n\nexport default function forgot () {\n  if (isLoggedIn()) {\n    navigate('/app')\n    return null\n  }\n\n  return (\n    <Layout>\n      <div\n        style={{\n          display: 'grid',\n          alignItems: 'center',\n          justifyItems: 'center',\n          height: '100%',\n          gridColumn: '1/-1',\n          gridRow: '2'\n        }}\n      >\n        <ResetPasswordForm />\n      </div>\n    </Layout>\n  )\n}\n"],"sourceRoot":""}